<div>
  <!-- Bouton pour ouvrir la modal en mode création -->
  <!-- <div *ngIf="showAddForm" class="mb-3">
    <button class="btn btn-primary" (click)="openCreateModal()">
      + Créer une tâche
    </button>
  </div> -->

  <!-- Liste des tâches -->
  <div class="table-responsive mt-3">
    <table class="table table-striped table-hover">
      <thead class="table-dark">
        <tr>
          <th>Nom</th>
          <th>Description</th>
          <th>Statut</th>
          <th>Priorité</th>
          <th>Date d'échéance</th>
          <th>Date de fin</th>
          <th>Assigné à</th>
          <th>Actions</th>
        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let task of tasks">
          <td>{{ task.name }}</td>
          <td>{{ task.description }}</td>
          <td>
            <span class="badge bg-warning">{{ task.status }}</span>
          </td>
          <td>
            <span class="badge bg-danger">{{ task.priority }}</span>
          </td>
          <td>{{ task.dueDate }}</td>
          <td>{{ task.endDate }}</td>
          <td>{{ getAssigneesNames(task) }}</td>
          <td>
            <button class="btn btn-sm btn-primary" (click)="viewTask(task)">
              Voir
            </button>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <app-task-modal
    [isOpen]="isModalOpen"
    [mode]="modalMode"
    [task]="selectedTask"
    [project]="project"
    (closed)="closeModal()"
    (saved)="onTaskSaved($event)"
  ></app-task-modal>
</div>
